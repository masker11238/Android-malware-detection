import os
# Storage path of apk
apkPath = "D:/4/"
# Apk is divided by category, and the category of each APK is obtained
apklist = os.listdir(apkPath)

# The path stores the files obtained by decompilating APK. Remember to add at the end/
outputPath = "D:/5/"

# After decompiling APK, it is stored according to the original category

for APK in apklist:
        portion = os.path.splitext(APK)  # Divide APK files according to their file names and suffixes
        apkoutPath = os.path.join(outputPath, portion[0])  # The APK file name is stored in the portion
        APK = os.path.join(apkPath, APK)

        cmd = "apktool d {0} -o {1}".format(APK, apkoutPath)  # File naming rules after Decompilation
        os.chdir("D:/apktool")
        os.system(cmd)

print("Complete!")
