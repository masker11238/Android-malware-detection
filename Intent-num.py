#Get the eigenvector of intent, and the number represents the number of occurrences
import os

f1 = open("D:/2/intent.txt", "r", encoding='UTF-8-sig')
intentsum = []
for line in f1.readlines():
    line = line.strip()
    intentsum.append(line)

path1 = "D:/2/mal-intent/"
folderlist = os.listdir(path1)

for i in range(len(folderlist)):
    portion = folderlist[i].strip(".txt").split("-")
    num1 = portion[1]
    num2 = portion[2]
    num3 = portion[3]
    num4 = portion[4]

    path3 = path1 + folderlist[i]
    path4 = path1 + "O-" + folderlist[i]

    f2 = open(path3, "r", encoding='UTF-8-sig')
    intent = []
    for line in f2.readlines():
        line = line.strip()
        intent.append(line)

    for j in range(len(intentsum)):
        if intentsum[j] not in intent:
            f3 = open(path4, "a",encoding= "UTF-8")
            f3.write("0" + "\t")
            f3.close()

        else:
            num = 0
            for k in range(len(intent)):
                if intent[k]==intentsum[j]:
                    num=num+1
            f3 = open(path4, "a",encoding= "UTF-8")
            f3.write(str(num) + "\t")
            f3.close()


    f3 = open(path4, "a",encoding= "UTF-8")
    f3.write(num1 + "\t")
    f3.write(num2 + "\t")
    f3.write(num3 + "\t")
    f3.write(num4)
    f3.close()
print("Completeï¼")











