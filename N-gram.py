#n-gram

import os

apkPath = "D:/6/Opcode-xv/"
folderlist = os.listdir(apkPath)

outputPath = "D:/6/N-gram/"

for i in range(len(folderlist)):

    source = apkPath + folderlist[i]
    des = outputPath + folderlist[i]

    f1 = open(source, "r", encoding="utf-8")

    for line in f1.readlines():
        if "/" in line:
            line = line.strip()
            line = line.split("/")
            if len(line) >= 4:
                for i in range(len(line) - 4):
                    f2 = open(des, "a", encoding="utf-8")
                    f2.write(line[i] + "/" + line[i + 1] + "/" + line[i + 2] +"/" +line[i + 3] +"\n")
                    f2.close()

print("Complete!")
